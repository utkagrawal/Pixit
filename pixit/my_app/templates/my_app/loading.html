{% load static %}


<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Auto Play Video</title>
<style>
  body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    overflow: hidden;
  }
  #video-container {
    width: 100%;
    height: 100vh; /* Set the height to 100% of the viewport height */
    display: flex;
    justify-content: center;
    align-items: center;
  }
  video {
    height: 100%; /* Set the height to 100% of the container's height */
    width: auto; /* Let the width adjust automatically to maintain aspect ratio */
  }
</style>
</head>
<body>
  <div id="video-container">
    <video autoplay muted id="myVideo" onended="videoEnded()">
      <source src="{% static "my_app/load.mp4" %}" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>

  <script>
    const video = document.getElementById('myVideo');
    let loopCount = 0;

    function videoEnded() {
      loopCount++;

      // Check if loopCount is less than 3, if so, replay the video
      if (loopCount < 3) {
        video.play();
      } else {
        // Redirect to sec.html after the third loop
        window.location.href = '/my_app/result/';
      }
    }
  </script>
</body>
</html>
